<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link href="../styles/bootstrap.css" rel="stylesheet">
    <link href="../styles/bootstrap-theme.css" rel="stylesheet">
    <link href="../styles/font-awesome.css" rel="stylesheet">
    <script src="../js/lib/jquery/jquery-1.10.2.js"></script>
    <script src="../js/lib/bootstrap/bootstrap.js"></script>
    <script src="../js/lib/chartjs/chart.js"></script>
    <style>
        h4{
            margin-left:100px;
            vertical-align: middle;
            float:left;
        }
        .canvas{
            margin-left:50px;
            width:650px;
            height:350px;
        }
        .explain{
            width:100px;
            height:100px;
            float:right;
            margin-top:160px;
        }
        .ex1:before, .ex2:before, .ex3:before, .ex4:before,.ex5:before{
            content:"";
            width:40px;
            height:25px;
            margin-right:7px;
            display:inline-block;
            position:absolute;
            left:-45px;
        }
        .ex1:before{
        background:#F38630;
        }
        .ex2:before{
            background:#E0E4CC;
        }
        .ex3:before{
            background:#69D2E7;
        }
        .ex4:before{
            background:red;
        }
        .ex5:before{
            background:greenyellow;
        }
        .ex1,.ex2,.ex3,.ex4,.ex5{
            font-size:16px;
            position:relative;
        }
    </style>
    <script>
        $(function(){
            $.ajax({
                "url":"compare2015.php",
                "type":"post",
                success:function(data){
                    var str = eval(data);
                    console.log(str[0].number);
                    var piedata = [
                        {
                            value: "",
                            color:"#F38630",
                            /*color:"gray",*/
                            label:"学院楼"

                        },
                        {
                            value: "",
                            color: "#E0E4CC",
                            label:"行政楼"
                        },
                        {
                            value: "",
                            color:"#69D2E7",
                            label:"图书馆"
                        },
                        {
                            value: "",
                            color:"red",
                            label:"教学楼"
                        },
                        {
                            value: "",
                            color:"greenyellow",
                          /*  color:"lightgray",*/
                            label:"食堂"

                        },
                    ]

                    for (var j = 0; j < 5; j++) {
                        piedata[j].value=str[j].number;
                    }

                    var ctx = document.getElementById("canvas1").getContext("2d");
                    var myPie=new Chart(ctx).Pie(piedata);

                }
            })
        })
    </script>
</head>
<body style="width:800px;height:500px;">
<h4 style="margin-left:230px;">楼宇2015年度用电量查询</h4>
<br>
<canvas id='canvas1' class='canvas'></canvas>
<div class="explain">
    <p class="ex1">学院楼</p>
    <p class="ex2">行政楼</p>
    <p class="ex3">图书馆</p>
    <p class="ex4">教学楼</p>
    <p class="ex5">食堂</p>
</div>
<h5 style="margin:20px;">单位：*1000度</h5>
</body>
</html>